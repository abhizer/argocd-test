apiVersion: external-secrets.io/v1beta1
kind: ExternalSecret
metadata:
    name: ts-credentials
    namespace: argocd # where ArgoCD apps will read the secret
spec:
    refreshInterval: "1h"
    secretStoreRef:
        name: aws-secrets-manager
        kind: SecretStore
    target:
        name: ts-credentials
        creationPolicy: Owner
    data:
        - secretKey: TS_CLIENT_ID
          remoteRef:
              key: ts-credentials
              property: TS_CLIENT_ID
        - secretKey: TS_CLIENT_SECRET
          remoteRef:
              key: ts-credentials
              property: TS_CLIENT_SECRET
